# Система управления автостоянкой (Лабораторная работа №1)

Программная система для автоматизации процессов на автомобильной парковке. Разработана в рамках курса «Проектирование программного обеспечения интеллектуальных систем».

Проект реализует полный цикл обслуживания: от размещения автомобиля и учета тарифов до заказа дополнительных услуг и сохранения статистики доходов. Изначальное требование CLI было расширено до полноценного графического интерфейса (GUI) по согласованию с преподавателем.

## Выполнение требований задания

В данном проекте строго соблюдены все требования технического задания:
* **ООП и SOLID:** Система спроектирована с разделением ответственности (Data Models, Business Logic Service, UI).
* **Аннотация типов (PEP 8):** В коде повсеместно используются Type Hints (`-> bool`, `: dict`, `List[str]`) для статического анализа и самодокументируемости.
* **Собственные исключения:** Реализована кастомная иерархия ошибок (`SpotOccupiedError`, `CarNotFound`, `PaymentError`) для безопасной обработки краевых случаев.
* **Сериализация:** Состояние парковки (машины, занятые места, касса) сохраняется между запусками программы в файл `parking_data.json`.
* **Юнит-тестирование:** Разработано покрытие тестами основной бизнес-логики с использованием библиотеки `unittest` (изолированные тесты с паттерном AAA).

## Архитектура проекта

Код разделен на три независимых слоя (подобие паттерна MVC), что обеспечивает слабую связность (Low Coupling) и высокую связность внутри модулей (High Cohesion):

1. **Models (Модели данных)** — сущности предметной области. Только хранят данные и умеют сохранять/загружать себя (сериализация).
   * `Parking` — главная модель, содержащая словари мест, машин, тарифов и услуг.
   * `Car` — модель автомобиля.
   * `ParkingSpot` — парковочное место.
   * `Tariff` / `Service` — справочники тарифов и услуг.
2. **Services (Бизнес-логика)** — класс `ParkingService`. Содержит всю математику, проверки и алгоритмы. Не знает о существовании графического интерфейса, что позволяет легко подменить GUI на CLI или Web-интерфейс.
3. **UI (Интерфейс)** — файл `main.py` (на базе `customtkinter`). Отвечает только за отрисовку окон и передачу данных пользователя в Service.

---

## Установка и запуск (Для разработчиков)

**Требования:** Python 3.9+

1. Клонируйте репозиторий:
   ```bash
   git clone <ссылка_на_ваш_github>
   cd parking_system

## Установка и запуск (Для пользователя)

**Для Windows (через cmd)**

1.  Создайте и активируйте виртуальное окружение:
    ```bash
    python -m venv venv
    venv\Scripts\activate

2.  Установите зависимости библиотеки:
    ```bash 
    pip install -r requirements.txt

3.  Запустите приложение:
    ```bash
    python main.py

**Запуск без установки Python (Сборка .exe для Windows)**

1.  Убедитесь, что виртуальное окружение активировано (venv).

2.  Установите упаковщик:
    ```bash
    pip install pyinstaller

3.  Выполните команду сборки (она автоматически "зашьет" графические темы *customtkinter* внутрь файла):
    ```bash 
    pyinstaller --noconsole --onefile --add-data "venv\Lib\site-packages\customtkinter;customtkinter" main.py

4.  Готовый файл main.exe появится в папке dist/. При первом запуске он автоматически создаст папку data/ с файлом базы данных parking_data.json рядом с собой.


![](https://i.gifer.com/XOsX.gif)